<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="org.apache.zookeeper.book.TestWorkerChanges" time="0.1" tests="2" errors="2" skipped="0" failures="0">
  <properties>
    <property name="java.runtime.name" value="Java(TM) SE Runtime Environment"/>
    <property name="sun.boot.library.path" value="/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib"/>
    <property name="java.vm.version" value="24.65-b04"/>
    <property name="user.country.format" value="IN"/>
    <property name="gopherProxySet" value="false"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="java.vendor.url" value="http://java.oracle.com/"/>
    <property name="path.separator" value=":"/>
    <property name="guice.disable.misplaced.annotation.check" value="true"/>
    <property name="java.vm.name" value="Java HotSpot(TM) 64-Bit Server VM"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="user.country" value="US"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="user.dir" value="/Users/vaibhav.g/flipkart/zookeeper/zookeeper-book-example"/>
    <property name="java.runtime.version" value="1.7.0_65-b17"/>
    <property name="java.awt.graphicsenv" value="sun.awt.CGraphicsEnvironment"/>
    <property name="java.endorsed.dirs" value="/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/endorsed"/>
    <property name="os.arch" value="x86_64"/>
    <property name="java.io.tmpdir" value="/var/folders/qy/2h3r1_zj6xzcn7qwb4qp1k70zr_0g0/T/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="os.name" value="Mac OS X"/>
    <property name="net.sourceforge.cobertura.datafile" value="/Users/vaibhav.g/flipkart/zookeeper/zookeeper-book-example/target/cobertura/cobertura.ser"/>
    <property name="classworlds.conf" value="/usr/local/Cellar/maven/3.2.2/libexec/bin/m2.conf"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.library.path" value="/Users/vaibhav.g/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:."/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.class.version" value="51.0"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="os.version" value="10.9.2"/>
    <property name="http.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="user.home" value="/Users/vaibhav.g"/>
    <property name="user.timezone" value="Asia/Kolkata"/>
    <property name="java.awt.printerjob" value="sun.lwawt.macosx.CPrinterJob"/>
    <property name="java.specification.version" value="1.7"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="user.name" value="vaibhav.g"/>
    <property name="java.class.path" value="/usr/local/Cellar/maven/3.2.2/libexec/boot/plexus-classworlds-2.5.1.jar"/>
    <property name="org.slf4j.simpleLogger.defaultLogLevel" value="info"/>
    <property name="java.vm.specification.version" value="1.7"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.home" value="/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre"/>
    <property name="sun.java.command" value="org.codehaus.plexus.classworlds.launcher.Launcher cobertura:cobertura -Pmetrics"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="user.language" value="en"/>
    <property name="awt.toolkit" value="sun.lwawt.macosx.LWCToolkit"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.version" value="1.7.0_65"/>
    <property name="java.ext.dirs" value="/Users/vaibhav.g/Library/Java/Extensions:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/ext:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java"/>
    <property name="sun.boot.class.path" value="/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/sunrsasign.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre/classes"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="maven.home" value="/usr/local/Cellar/maven/3.2.2/libexec"/>
    <property name="file.separator" value="/"/>
    <property name="java.vendor.url.bug" value="http://bugreport.sun.com/bugreport/"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="sun.io.unicode.encoding" value="UnicodeBig"/>
    <property name="project.build.outputDirectory" value="/Users/vaibhav.g/flipkart/zookeeper/zookeeper-book-example/target/generated-classes/cobertura"/>
    <property name="socksNonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="ftp.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="sun.cpu.isalist" value=""/>
  </properties>
  <testcase name="addWorker" classname="org.apache.zookeeper.book.TestWorkerChanges" time="0.048">
    <error message="Instruction type does not match stack map&#10;Exception Details:&#10;  Location:&#10;    org/apache/zookeeper/book/Master.main([Ljava/lang/String;)V @45: aload_3&#10;  Reason:&#10;    Type integer (current frame, locals[1]) is not assignable to &apos;org/apache/zookeeper/book/Master&apos; (stack map, locals[1])&#10;  Current Frame:&#10;    bci: @45&#10;    flags: { }&#10;    locals: { &apos;[Ljava/lang/String;&apos;, integer, integer, &apos;org/apache/zookeeper/book/Master&apos; }&#10;    stack: { }&#10;  Stackmap Frame:&#10;    bci: @45&#10;    flags: { }&#10;    locals: { &apos;[Ljava/lang/String;&apos;, &apos;org/apache/zookeeper/book/Master&apos; }&#10;    stack: { }&#10;  Bytecode:&#10;    0000000: 033c 11ff ff3d 1284 1103 32b8 008a bb00&#10;    0000010: 0259 2a03 32b7 01d8 4e12 8411 0333 b800&#10;    0000020: 8a2d b601 da12 8411 0335 b800 8a2d b601&#10;    0000030: dc11 0335 3c11 0000 3d9a 002e 1b11 0335&#10;    0000040: a000 161c 1100 00a0 000f 1284 1b1c 04b8&#10;    0000050: 011c 11ff ff3d 1284 1103 36b8 008a 1401&#10;    0000060: ddb8 01e3 a7ff c11c 9b00 0f12 841b 1c03&#10;    0000070: b801 1c11 ffff 3d12 8411 033b b800 8a2d&#10;    0000080: b601 e512 8411 0340 b800 8a2d b601 e712&#10;    0000090: 8411 0342 b800 8a2d b601 e911 0342 3c11&#10;    00000a0: 0000 3d9a 002e 1b11 0342 a000 161c 1100&#10;    00000b0: 00a0 000f 1284 1b1c 04b8 011c 11ff ff3d&#10;    00000c0: 1284 1103 43b8 008a 1401 eab8 01e3 a7ff&#10;    00000d0: c11c 9b00 0f12 841b 1c03 b801 1c11 ffff&#10;    00000e0: 3d12 8411 0346 b800 8a2d b601 ed12 8411&#10;    00000f0: 0347 b800 8ab1                         &#10;  Stackmap Table:&#10;    append_frame(@45,Object[#2])&#10;    same_frame_extended(@127)&#10;    same_frame(@151)&#10;    same_frame_extended(@233)&#10;" type="java.lang.VerifyError">java.lang.VerifyError: Instruction type does not match stack map
Exception Details:
  Location:
    org/apache/zookeeper/book/Master.main([Ljava/lang/String;)V @45: aload_3
  Reason:
    Type integer (current frame, locals[1]) is not assignable to 'org/apache/zookeeper/book/Master' (stack map, locals[1])
  Current Frame:
    bci: @45
    flags: { }
    locals: { '[Ljava/lang/String;', integer, integer, 'org/apache/zookeeper/book/Master' }
    stack: { }
  Stackmap Frame:
    bci: @45
    flags: { }
    locals: { '[Ljava/lang/String;', 'org/apache/zookeeper/book/Master' }
    stack: { }
  Bytecode:
    0000000: 033c 11ff ff3d 1284 1103 32b8 008a bb00
    0000010: 0259 2a03 32b7 01d8 4e12 8411 0333 b800
    0000020: 8a2d b601 da12 8411 0335 b800 8a2d b601
    0000030: dc11 0335 3c11 0000 3d9a 002e 1b11 0335
    0000040: a000 161c 1100 00a0 000f 1284 1b1c 04b8
    0000050: 011c 11ff ff3d 1284 1103 36b8 008a 1401
    0000060: ddb8 01e3 a7ff c11c 9b00 0f12 841b 1c03
    0000070: b801 1c11 ffff 3d12 8411 033b b800 8a2d
    0000080: b601 e512 8411 0340 b800 8a2d b601 e712
    0000090: 8411 0342 b800 8a2d b601 e911 0342 3c11
    00000a0: 0000 3d9a 002e 1b11 0342 a000 161c 1100
    00000b0: 00a0 000f 1284 1b1c 04b8 011c 11ff ff3d
    00000c0: 1284 1103 43b8 008a 1401 eab8 01e3 a7ff
    00000d0: c11c 9b00 0f12 841b 1c03 b801 1c11 ffff
    00000e0: 3d12 8411 0346 b800 8a2d b601 ed12 8411
    00000f0: 0347 b800 8ab1                         
  Stackmap Table:
    append_frame(@45,Object[#2])
    same_frame_extended(@127)
    same_frame(@151)
    same_frame_extended(@233)

	at org.apache.zookeeper.book.TestWorkerChanges.addWorker(TestWorkerChanges.java:32)
</error>
    <system-out>2014-12-18 10:48:10,389 - INFO  - [main:BaseTestCase@51] - Starting ZooKeeper Standalone Server: 11221
2014-12-18 10:48:10,399 - INFO  - [main:BaseTestCase@54] - ZooKeeper server started
</system-out>
  </testcase>
  <testcase name="addWorker" classname="org.apache.zookeeper.book.TestWorkerChanges" time="0.052">
    <error type="java.lang.NullPointerException:">java.lang.NullPointerException: null
	at org.apache.zookeeper.server.ZooKeeperServerMain.shutdown(ZooKeeperServerMain.java:127)
	at org.apache.zookeeper.book.StandaloneServer$TestZKSMain.shutdown(StandaloneServer.java:54)
	at org.apache.zookeeper.book.StandaloneServer.shutdown(StandaloneServer.java:105)
	at org.apache.zookeeper.book.BaseTestCase.tearDown(BaseTestCase.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:208)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:158)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:95)
</error>
  </testcase>
</testsuite>